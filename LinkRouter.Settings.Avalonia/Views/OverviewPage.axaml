<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="LinkRouter.Settings.Avalonia.Views.OverviewPage">
  <ScrollViewer>
    <StackPanel Margin="{DynamicResource PageMargin}" Spacing="16">
      <TextBlock Text="Overview" FontSize="24" FontWeight="SemiBold" />

      <Border Classes="settings-card">
        <StackPanel Spacing="12">
          <StackPanel Spacing="4">
            <TextBlock Text="Configuration" FontSize="18" FontWeight="SemiBold" />
            <TextBlock Text="Manage the active configuration file" Opacity="0.75" />
          </StackPanel>

          <StackPanel Spacing="8">
            <TextBlock Text="Config path" FontWeight="SemiBold" />
            <TextBlock Text="{Binding ConfigPath}" TextWrapping="Wrap" />
          </StackPanel>

          <StackPanel Orientation="Horizontal" Spacing="12">
            <Button Content="Save" Command="{Binding SaveCommand}" />
            <Button Content="Open folder" Command="{Binding OpenConfigFolderCommand}" />
            <Button Content="Copy path" Command="{Binding CopyConfigPathCommand}" />
          </StackPanel>

          <StackPanel Orientation="Horizontal" Spacing="12">
            <TextBlock Text="Last modified:" FontWeight="SemiBold" />
            <TextBlock Text="{Binding LastModifiedDisplay}" />
            <TextBlock Text="Backups:" FontWeight="SemiBold" />
            <TextBlock Text="{Binding BackupCount}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel Spacing="12">
          <StackPanel Spacing="4">
            <TextBlock Text="Registration" FontSize="18" FontWeight="SemiBold" />
            <TextBlock Text="Control the LinkRouter default app registration" Opacity="0.75" />
          </StackPanel>

          <StackPanel Orientation="Horizontal" Spacing="12">
            <Button Content="Register" Command="{Binding RegisterCommand}" />
            <Button Content="Unregister" Command="{Binding UnregisterCommand}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="settings-card">
        <StackPanel Spacing="12">
          <StackPanel Spacing="4">
            <TextBlock Text="Simulate URL" FontSize="18" FontWeight="SemiBold" />
            <TextBlock Text="Test rules without launching a browser" Opacity="0.75" />
          </StackPanel>

          <TextBox Watermark="Enter a URL" Text="{Binding TestUrl, Mode=TwoWay}" />
          <Button Content="Simulate" Command="{Binding SimulateCommand}" />
          <TextBlock Text="{Binding SimulationSummary}" TextWrapping="Wrap" />
          <TextBlock Text="{Binding SimulationDetails}" TextWrapping="Wrap" />
        </StackPanel>
      </Border>

      <Border Classes="settings-card" IsVisible="{Binding HasError}">
        <TextBlock Text="{Binding ErrorMessage}" TextWrapping="Wrap" Foreground="Red" />
      </Border>

      <TextBlock Text="{Binding StatusMessage}" />
    </StackPanel>
  </ScrollViewer>
</UserControl>
